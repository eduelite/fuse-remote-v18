<div class="bg-card shadow rounded-2xl overflow-hidden" 
[ngStyle]="{'height': data.component.ui.playerHeight?toInt(data.component.ui.playerHeight)+120+'px':'340px',
            'width': data.component.ui.playerHeight?data.component.ui.playerWidth+'px':'330px'}"
*ngIf="data">

     

      <div class="relative w-full items-center bg-transparent" [ngStyle]="{'height': data.component.ui.playerHeight?data.component.ui.playerHeight+'px':'220px'}">

        <div class="absolute justify-center  items-center">

            <div>
            <youtube-player #videoPlayer  
            [width]="data.component.ui.playerWidth!==undefined && data.component.ui.playerWidth!==null && data.component.ui.playerWidth?data.component.ui.playerWidth:330"
            [height]="data.component.ui.playerHeight!=undefined && data.component.ui.playerHeight!==null && data.component.ui.playerHeight?data.component.ui.playerHeight:220"      
            [videoId]="data.component.content.videoId"
            [playerVars]="{controls:0}"
            [disableCookies]="true"
            [startSeconds]="data.component.content.startSecond"
            [endSeconds]="data.component.content.endSecond"
            (ready)="onReady($event)"
            (stateChange)="onStateChange($event)"
            ></youtube-player>
            </div>
            

        </div>

        <div class="absolute w-full bg-transparent items-center justify-center"    
        [ngStyle]="{'height': data.component.ui.playerHeight?data.component.ui.playerHeight+'px':'220px'}"    
        >

        </div>

    </div>

    <div class="mt-2 ml-4  mr-4 mb-4">
      <a             
      class="text-md font-semibold leading-tight">{{data.component.content.title}}</a>

      <div  class="flex flex-auto mt-4">
          <div class="font-medium"></div>
          <div class="flex flex-auto">
            <div *ngIf="data.component.content.sections && (data.component.content.sections | keyvalue).length >0  "
                class="flex items-center ml-4 -mt-2 px-4 leading-9 rounded-full cursor-pointer"
                [ngClass]="{'text-blue-800 bg-blue-200 dark:text-blue-100 dark:bg-blue-500': true}"
                [matMenuTriggerFor]="priorityMenu">

                <ng-container *ngIf="data.runtime.data.currentSection===undefined || data.runtime.data.currentSection===null;else showCurrent">
                    <mat-icon
                        class="icon-size-5 text-current"
                        [svgIcon]="'heroicons_solid:film'"></mat-icon>
                    <span class="ml-2 mr-1 text-md font-medium">Charpter: None</span>
                </ng-container>
                <ng-template #showCurrent>
                  <mat-icon
                        class="icon-size-5 text-current"
                        [svgIcon]="'heroicons_solid:film'"></mat-icon>
                    <span class="ml-2 mr-1 text-md font-medium">Charpters: {{data.runtime.data.currentSection.subtitle}}</span>
                </ng-template>
            
              
            </div>
            <div >

              <a  *ngIf="status!=='PLAY'"
              class="ml-2"
              mat-button
              (click)="play();">
              <span class="inline-flex items-center">
                  <mat-icon
                      class="ml-1.5 icon-size-5"
                      [svgIcon]="'heroicons_solid:play'"></mat-icon>
              </span>
          </a>
          <a *ngIf="status==='PLAY'"
              class="ml-2"
              mat-button
              (click)="pause();">
              <span class="inline-flex items-center">              
                  <mat-icon
                      class="ml-1.5 icon-size-5"
                      [svgIcon]="'heroicons_solid:pause'"></mat-icon>
              </span>
          </a>
          
            </div>
          </div>
          <mat-menu #priorityMenu="matMenu">
              <!-- Low -->
              <button   *ngFor = "let section of data.component.content.sections | keyvalue"
                  [ngClass]="{'bg-hover': true}"
                  (click)="SelectSection(section)"
                  mat-menu-item
                  >
                  <span class="inline-flex  w-full min-w-30 leading-5">
                    <mat-icon
                    class="mr-0 text-green-600 dark:text-green-500"
                    [svgIcon]="'heroicons_solid:film'"></mat-icon>  
                    <span class="ml-1 py-1 text-md font-medium">{{section.value!.subtitle}} - {{section.value!.startSecond}}:{{section.value!.endSecond}}s</span>
                     
                  </span>
              </button>
          </mat-menu>
      </div>   

  </div>


</div>
